<div class='container'>
  <div class='row'>
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
    <h2>New Photo</h2>
    <%= form_with model:@photo do |f| %>
      <%#= render 'layouts/errors', obj: @photo %>
      <div class="form-group">
        <%= f.label :image %>
        <%= f.file_field :image, accept: 'image/*', onchange: "previewImage(this);" %>
      </div>
      <div>
        <img id="preview" src="" style="max-width: 200px;"></img>
      </div>
     <div class="form-group">
        <%= f.label :body %>
        <%= f.text_area :body, class: "form-control-file" %>
      </div>
      <div class="form-group">
        <%= f.label :address %>
        <%= f.text_field :address, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.submit class: 'btn btn-secondary' %>
      </div>
    <% end %>
  </div>
</div>

<script>
function previewImage(obj)
{
	var fileReader = new FileReader();
	fileReader.onload = (function() {
		document.getElementById('preview').src = fileReader.result;
	});
	fileReader.readAsDataURL(obj.files[0]);
}
</script>